# ğŸ”¬ Async AI Task Runner é›†æˆæµ‹è¯•æ–¹æ¡ˆ

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£ä¸º Async AI Task Runner é¡¹ç›®çš„å®Œæ•´äººå·¥é›†æˆæµ‹è¯•æ–¹æ¡ˆï¼Œæ¶µç›–ä»åŸºç¡€åŠŸèƒ½éªŒè¯åˆ°æ€§èƒ½è´Ÿè½½æµ‹è¯•çš„å…¨æ–¹ä½æµ‹è¯•ç­–ç•¥ã€‚

## ğŸ—ï¸ æµ‹è¯•ç›®å½•ç»“æ„

```
test/
â”œâ”€â”€ README.md                    # æœ¬æ–‡æ¡£
â”œâ”€â”€ integration-test-plan.md    # è¯¦ç»†æµ‹è¯•æ–¹æ¡ˆ
â”œâ”€â”€ scripts/                    # è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ run-full-integration-test.sh    # å®Œæ•´é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ basic-connectivity-test.sh     # åŸºç¡€è¿æ¥æµ‹è¯•
â”‚   â”œâ”€â”€ task-flow-test.sh              # ä»»åŠ¡æµç¨‹æµ‹è¯•
â”‚   â”œâ”€â”€ error-handling-test.sh         # é”™è¯¯å¤„ç†æµ‹è¯•
â”‚   â”œâ”€â”€ performance-test.sh            # æ€§èƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ data-consistency-test.sh       # æ•°æ®ä¸€è‡´æ€§æµ‹è¯•
â”‚   â”œâ”€â”€ load-test-medium.py            # ä¸­ç­‰è´Ÿè½½æµ‹è¯•
â”‚   â””â”€â”€ utils/                          # æµ‹è¯•å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ check-environment.sh
â”‚       â”œâ”€â”€ cleanup-test-data.sh
â”‚       â””â”€â”€ generate-test-data.py
â”œâ”€â”€ templates/                  # æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿
â”‚   â”œâ”€â”€ test-report-template.md
â”‚   â””â”€â”€ test-checklist.md
â”œâ”€â”€ reports/                    # æµ‹è¯•æŠ¥å‘Šè¾“å‡ºç›®å½•
â”œâ”€â”€ data/                       # æµ‹è¯•æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ sample-tasks.json
â”‚   â”œâ”€â”€ test-prompts.json
â”‚   â””â”€â”€ performance-baselines.json
â””â”€â”€ postman/                    # Postman é›†åˆï¼ˆå¯é€‰ï¼‰
    â””â”€â”€ Async-AI-Task-Runner.postman_collection.json
```

## ğŸ¯ æµ‹è¯•ç›®æ ‡

### æ ¸å¿ƒåŠŸèƒ½éªŒè¯
- âœ… FastAPI æœåŠ¡å¥åº·çŠ¶æ€
- âœ… ä»»åŠ¡åˆ›å»ºä¸æ‰§è¡Œæµç¨‹
- âœ… Celery å¼‚æ­¥ä»»åŠ¡å¤„ç†
- âœ… PostgreSQL æ•°æ®æŒä¹…åŒ–
- âœ… Redis æ¶ˆæ¯é˜Ÿåˆ—

### ç³»ç»Ÿç¨³å®šæ€§æµ‹è¯•
- âœ… é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ
- âœ… å¹¶å‘è¯·æ±‚å¤„ç†èƒ½åŠ›
- âœ… æ•°æ®ä¸€è‡´æ€§ä¿è¯
- âœ… ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

### æ€§èƒ½ä¸è´Ÿè½½æµ‹è¯•
- âœ… å“åº”æ—¶é—´åŸºå‡†
- âœ… å¹¶å‘ç”¨æˆ·æ”¯æŒ
- âœ… ç³»ç»Ÿååé‡æµ‹è¯•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# ç¡®ä¿æ‰€æœ‰æœåŠ¡æ­£åœ¨è¿è¡Œ
docker-compose ps

# éªŒè¯åŸºç¡€è¿æ¥
curl -X GET "http://localhost:8000/api/v1/health"
```

### 2. è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶

```bash
# ä¸€é”®è¿è¡Œæ‰€æœ‰æµ‹è¯•
./test/scripts/run-full-integration-test.sh

# æˆ–è€…åˆ†æ­¥è¿è¡Œ
./test/scripts/basic-connectivity-test.sh
./test/scripts/task-flow-test.sh
./test/scripts/error-handling-test.sh
./test/scripts/performance-test.sh
./test/scripts/data-consistency-test.sh
```

### 3. æŸ¥çœ‹æµ‹è¯•ç»“æœ

æµ‹è¯•å®Œæˆåï¼ŒæŠ¥å‘Šå°†ä¿å­˜åœ¨ `test/reports/` ç›®å½•ä¸­ï¼š

```bash
ls -la test/reports/
# æŸ¥çœ‹æœ€æ–°çš„æµ‹è¯•æŠ¥å‘Š
open test/reports/integration-test-report-$(date +%Y%m%d-%H%M%S).md
```

## ğŸ“Š æµ‹è¯•é˜¶æ®µè¯¦è§£

### é˜¶æ®µä¸€ï¼šåŸºç¡€è¿æ¥ä¸åŠŸèƒ½éªŒè¯ (10-15åˆ†é’Ÿ)
- æœåŠ¡å¥åº·æ£€æŸ¥
- API åŸºç¡€åŠŸèƒ½æµ‹è¯•
- æ•°æ®åº“è¿æ¥éªŒè¯
- Redis è¿æ¥éªŒè¯

### é˜¶æ®µäºŒï¼šä»»åŠ¡åˆ›å»ºä¸æ‰§è¡Œæµç¨‹æµ‹è¯• (20-25åˆ†é’Ÿ)
- å•ä»»åŠ¡åˆ›å»ºä¸æ‰§è¡Œ
- æ‰¹é‡ä»»åŠ¡åˆ›å»º
- ä»»åŠ¡çŠ¶æ€è½®è¯¢
- ä¼˜å…ˆçº§å¤„ç†éªŒè¯

### é˜¶æ®µä¸‰ï¼šé”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µæµ‹è¯• (15-20åˆ†é’Ÿ)
- è¾“å…¥éªŒè¯æµ‹è¯•
- HTTP æ–¹æ³•æµ‹è¯•
- ä»»åŠ¡ ID è¾¹ç•Œæµ‹è¯•
- å¹¶å‘ç«äº‰æ¡ä»¶æµ‹è¯•

### é˜¶æ®µå››ï¼šæ€§èƒ½ä¸è´Ÿè½½æµ‹è¯• (15-20åˆ†é’Ÿ)
- å“åº”æ—¶é—´åŸºå‡†æµ‹è¯•
- è½»è´Ÿè½½æµ‹è¯• (10ä¸ªå¹¶å‘)
- ä¸­è´Ÿè½½æµ‹è¯• (50ä¸ªå¹¶å‘)
- ç³»ç»Ÿèµ„æºç›‘æ§

### é˜¶æ®µäº”ï¼šæ•°æ®ä¸€è‡´æ€§æµ‹è¯• (10-15åˆ†é’Ÿ)
- API ä¸æ•°æ®åº“æ•°æ®ä¸€è‡´æ€§
- çŠ¶æ€æµè½¬éªŒè¯
- å¹¶å‘æ“ä½œæ•°æ®å®Œæ•´æ€§
- ä»»åŠ¡ ID è¿ç»­æ€§æ£€æŸ¥

## ğŸ¯ éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶æ ‡å‡†
- âœ… æ‰€æœ‰ API ç«¯ç‚¹æ­£ç¡®å“åº”
- âœ… ä»»åŠ¡çŠ¶æ€æµè½¬ç¬¦åˆé¢„æœŸ
- âœ… é”™è¯¯å¤„ç†æœºåˆ¶æ­£å¸¸å·¥ä½œ
- âœ… æ•°æ®æŒä¹…åŒ–å®Œæ•´å¯é 

### æ€§èƒ½éªŒæ”¶æ ‡å‡†
- âœ… å¥åº·æ£€æŸ¥å“åº”æ—¶é—´ < 50ms
- âœ… ä»»åŠ¡åˆ›å»ºå“åº”æ—¶é—´ < 200ms
- âœ… ä»»åŠ¡æŸ¥è¯¢å“åº”æ—¶é—´ < 300ms
- âœ… æ”¯æŒ 50 ä¸ªå¹¶å‘ä»»åŠ¡åˆ›å»º
- âœ… 99% çš„ä»»åŠ¡èƒ½æ­£å¸¸å®Œæˆ

### ç¨³å®šæ€§éªŒæ”¶æ ‡å‡†
- âœ… è¿ç»­è¿è¡Œ 1 å°æ—¶æ— å´©æºƒ
- âœ… å†…å­˜ä½¿ç”¨ç¨³å®šæ— æ³„æ¼
- âœ… é”™è¯¯æ¢å¤æœºåˆ¶æ­£å¸¸
- âœ… æ•°æ®ä¸€è‡´æ€§ 100% ä¿è¯

## ğŸ”§ æµ‹è¯•å·¥å…·

### å¿…éœ€å·¥å…·
- **curl** - HTTP è¯·æ±‚æµ‹è¯•
- **jq** - JSON æ•°æ®å¤„ç†
- **Docker** - å®¹å™¨ç®¡ç†
- **PostgreSQL Client** - æ•°æ®åº“éªŒè¯

### æ¨èå·¥å…·
- **Postman/Insomnia** - API æµ‹è¯• GUI
- **Python 3.8+** - è‡ªå®šä¹‰æµ‹è¯•è„šæœ¬
- **Apache Bench (ab)** - é«˜çº§è´Ÿè½½æµ‹è¯•
- **Prometheus/Grafana** - æ€§èƒ½ç›‘æ§ï¼ˆå¯é€‰ï¼‰

## ğŸ“‹ æµ‹è¯•æ£€æŸ¥æ¸…å•

### é¢„æµ‹è¯•æ£€æŸ¥
- [ ] Docker å®¹å™¨å…¨éƒ¨è¿è¡Œæ­£å¸¸
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] æµ‹è¯•å·¥å…·å‡†å¤‡å°±ç»ª

### æµ‹è¯•æ‰§è¡Œæ£€æŸ¥
- [ ] åŸºç¡€åŠŸèƒ½å…¨éƒ¨é€šè¿‡
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®å·¥ä½œ
- [ ] æ€§èƒ½æŒ‡æ ‡æ»¡è¶³è¦æ±‚
- [ ] æ•°æ®ä¸€è‡´æ€§éªŒè¯é€šè¿‡

### åæµ‹è¯•æ£€æŸ¥
- [ ] æ¸…ç†æµ‹è¯•æ•°æ®
- [ ] ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
- [ ] è®°å½•å‘ç°çš„é—®é¢˜
- [ ] åˆ¶å®šæ”¹è¿›è®¡åˆ’

## ğŸš¨ å¸¸è§é—®é¢˜æ’æŸ¥

### PostgreSQL è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥æ•°æ®åº“å®¹å™¨çŠ¶æ€
docker logs async_ai_postgres

# ä¿®å¤æ•°æ®åº“ç”¨æˆ·æƒé™
docker exec -it async_ai_postgres psql -U postgres
CREATE USER taskuser WITH PASSWORD 'taskpass';
CREATE DATABASE async_ai_task_runner OWNER taskuser;
GRANT ALL PRIVILEGES ON DATABASE async_ai_task_runner TO taskuser;
```

### Redis è¿æ¥é—®é¢˜
```bash
# æµ‹è¯• Redis è¿æ¥
docker exec async_ai_redis redis-cli ping

# æ£€æŸ¥ Redis é…ç½®
docker logs async_ai_redis
```

### Celery Worker é—®é¢˜
```bash
# æ£€æŸ¥ Worker çŠ¶æ€
docker logs async_ai_worker

# é‡å¯ Worker
docker-compose restart worker
```

## ğŸ“ˆ æŒç»­é›†æˆ

å»ºè®®å°†æ­¤æµ‹è¯•æ–¹æ¡ˆé›†æˆåˆ° CI/CD æµæ°´çº¿ä¸­ï¼š

```yaml
# .github/workflows/integration-test.yml
name: Integration Test
on: [push, pull_request]
jobs:
  integration-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Start Services
        run: docker-compose up -d
      - name: Run Integration Tests
        run: ./test/scripts/run-full-integration-test.sh
      - name: Upload Test Report
        uses: actions/upload-artifact@v2
        with:
          name: test-report
          path: test/reports/
```

## ğŸ“ è”ç³»ä¸æ”¯æŒ

å¦‚æœåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„é—®é¢˜æ’æŸ¥éƒ¨åˆ†
2. æ£€æŸ¥æœåŠ¡çš„æ—¥å¿—è¾“å‡º
3. å‚è€ƒé¡¹ç›®æ–‡æ¡£æˆ–è”ç³»å¼€å‘å›¢é˜Ÿ

---

**æµ‹è¯•æ–¹æ¡ˆç‰ˆæœ¬ï¼š** 1.0
**æœ€åæ›´æ–°ï¼š** 2025-11-27
**é€‚ç”¨äºï¼š** Async AI Task Runner v0.1.0+